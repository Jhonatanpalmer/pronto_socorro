{% extends 'base.html' %}

{% block title %}Sistema de Gerenciamento de Regulação - Dashboard{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="d-flex align-items-center mb-4">
        <h2 class="fw-bold">
            <i class="bi bi-clipboard-check-fill text-warning"></i>
            Sistema de Gerenciamento de Regulação
        </h2>
    </div>

    <!-- Cards reordenados conforme solicitado -->
    <div class="row mb-4">
        <!-- 1) Consultas Autorizadas -->
        <div class="col-md-3">
            <a href="{% url 'consulta-list' %}?status=autorizado" class="text-decoration-none">
            <div class="card border-info text-center h-100">
                <div class="card-body">
                    <h5 class="card-title text-info">
                        <i class="bi bi-person-check-fill"></i> Consultas Autorizadas
                    </h5>
                    <h2 class="text-info">{{ total_consultas_autorizadas }}</h2>
                    <small class="text-muted">Total de consultas com status autorizado</small>
                </div>
            </div>
            </a>
        </div>
        <!-- 2) Exames autorizados -->
        <div class="col-md-3">
            <a href="{% url 'regulacao-list' %}?status=autorizado" class="text-decoration-none">
            <div class="card border-success text-center h-100">
                <div class="card-body">
                    <h5 class="card-title text-success">
                        <i class="bi bi-check-circle-fill"></i> Exames autorizados
                    </h5>
                    <h2 class="text-success">{{ total_autorizados }}</h2>
                    <small class="text-muted">Total de exames com status autorizado</small>
                </div>
            </div>
            </a>
        </div>
        <!-- 3) Pendentes -->
        <div class="col-md-3">
            <a href="{% url 'regulacao-list' %}?status=pendente" class="text-decoration-none">
            <div class="card border-warning text-center h-100">
                <div class="card-body">
                    <h5 class="card-title text-warning">
                        <i class="bi bi-clock-fill"></i> Pendentes
                    </h5>
                    <h2 class="text-warning">{{ total_pendentes }}</h2>
                    <small class="text-muted">Aguardando regulação</small>
                </div>
            </div>
            </a>
        </div>
        <!-- 4) Negados -->
        <div class="col-md-3">
            <a href="{% url 'regulacao-list' %}?status=negado" class="text-decoration-none">
            <div class="card border-danger text-center h-100">
                <div class="card-body">
                    <h5 class="card-title text-danger">
                        <i class="bi bi-x-circle-fill"></i> Negados
                    </h5>
                    <h2 class="text-danger">{{ total_negados }}</h2>
                    <small class="text-muted">Exames negados</small>
                </div>
            </div>
            </a>
        </div>
    </div>

    <div class="row mb-4">
        <!-- 5) Pacientes na Fila (Exames) -->
        <div class="col-md-3">
            <a href="{% url 'regulacao-fila' %}?only=ex#fila-exames" class="text-decoration-none">
            <div class="card border-primary h-100">
                <div class="card-body text-center">
                    <h5 class="card-title text-primary">
                        <i class="bi bi-people-fill"></i> Pacientes na Fila (Exames)
                    </h5>
                    <h2 class="text-primary">{{ pacientes_fila_exames_count }}</h2>
                    <small class="text-muted">Pacientes com exames na fila</small>
                </div>
            </div>
            </a>
        </div>
        <!-- 6) Pacientes na Fila (Consultas) -->
        <div class="col-md-3">
            <a href="{% url 'regulacao-fila' %}?only=co#fila-consultas" class="text-decoration-none">
            <div class="card border-warning h-100">
                <div class="card-body text-center">
                    <h5 class="card-title text-warning">
                        <i class="bi bi-people-fill"></i> Pacientes na Fila (Consultas)
                    </h5>
                    <h2 class="text-warning">{{ pacientes_fila_consultas_count }}</h2>
                    <small class="text-muted">Pacientes com consultas na fila</small>
                </div>
            </div>
            </a>
        </div>
        <!-- 7) Solicitações de Exames -->
        <div class="col-md-3">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="bi bi-list-check fs-1 text-primary mb-3"></i>
                    <h5 class="card-title">Solicitações de Exames</h5>
                    <p class="card-text">Visualizar e gerenciar todas as solicitações</p>
                    <a href="{% url 'regulacao-list' %}" class="btn btn-outline-primary">Acessar</a>
                </div>
            </div>
        </div>
        <!-- 8) Solicitações de Consultas -->
        <div class="col-md-3">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="bi bi-journal-medical fs-1 text-primary mb-3"></i>
                    <h5 class="card-title">Solicitações de Consultas</h5>
                    <p class="card-text">Solicitações de consulta por especialidade</p>
                    <a href="{% url 'consulta-list' %}" class="btn btn-outline-primary">Gerenciar</a>
                </div>
            </div>
        </div>
    </div>

    <div class="row mb-4">
        <!-- 9) Agenda -->
        <div class="col-md-3">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="bi bi-calendar2-week fs-1 text-success mb-3"></i>
                    <h5 class="card-title">Agenda</h5>
                    <p class="card-text">Exames e consultas autorizados e agendados</p>
                    <a href="{% url 'regulacao-agenda' %}" class="btn btn-outline-success">Ver Agenda</a>
                </div>
            </div>
        </div>
    </div>

    

        
</div>
{% endblock %}