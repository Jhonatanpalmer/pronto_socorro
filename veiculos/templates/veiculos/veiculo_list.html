{% extends 'base.html' %}
{% block title %}Veículos{% endblock %}
{% block content %}
<div class="container py-4">
  <div class="card pp-card">
    <div class="pp-header">
      <h6 class="mb-0 d-flex align-items-center gap-2"><i class="bi bi-truck-front"></i> Veículos</h6>
      <div class="d-flex align-items-center gap-2">
        <a href="{% url 'veiculo-create' %}" class="btn btn-light btn-sm text-success fw-semibold"><i class="bi bi-plus-circle"></i> Novo</a>
        <a href="{% url 'abastecimento-list' %}" class="btn btn-light btn-sm"><i class="bi bi-fuel-pump"></i> Abastecimentos</a>
        <a href="{% url 'manutencao-list' %}" class="btn btn-light btn-sm"><i class="bi bi-wrench-adjustable"></i> Manutenções</a>
      </div>
    </div>
    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-hover table-striped sticky-head align-middle mb-0">
          <thead class="table-light">
            <tr>
              <th><i class="bi bi-car-front th-icon"></i> Modelo</th>
              <th><i class="bi bi-123 th-icon"></i> Placa</th>
              <th><i class="bi bi-tags th-icon"></i> Tipo</th>
              <th><i class="bi bi-droplet th-icon"></i> Combustível</th>
              <th><i class="bi bi-people th-icon"></i> Capacidade</th>
              <th><i class="bi bi-person th-icon"></i> Motorista</th>
              <th class="text-end"><i class="bi bi-three-dots th-icon"></i> Ações</th>
            </tr>
          </thead>
          <tbody>
            {% for v in veiculos %}
            <tr>
              <td>{{ v.modelo }}</td>
              <td class="text-nowrap">{{ v.placa }}</td>
              <td><span class="badge bg-info text-dark">{{ v.get_tipo_display }}</span></td>
              <td>{{ v.get_combustivel_display }}</td>
              <td>{{ v.capacidade }}</td>
              <td>{{ v.motorista|default:'—' }}</td>
              <td class="text-end">
                <div class="btn-group" role="group">
                  <a href="{% url 'veiculo-update' v.id %}" class="btn btn-sm btn-outline-primary" title="Editar">
                    <i class="bi bi-pencil"></i>
                  </a>
                  <a href="{% url 'veiculo-delete' v.id %}" class="btn btn-sm btn-outline-danger" title="Excluir">
                    <i class="bi bi-trash"></i>
                  </a>
                </div>
              </td>
            </tr>
            {% empty %}
            <tr><td colspan="6" class="text-center py-3 text-muted">Nenhum veículo cadastrado.</td></tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
